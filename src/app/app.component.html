<div class="w-full relative dark:text-white">
  <div class="fixed top-1 right-1 z-10">
    <button
      class="cursor-pointer p-1.5 rounded-full border border-gray-300/70 dark:border-gray-600/70 bg-white/70 dark:bg-gray-900/70 text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-100 dark:hover:bg-gray-800 transition"
      (click)="toggleDarkMode(getCurrentTheme() !== 'dark')"
      [attr.aria-label]="'Switch to ' + (getCurrentTheme() === 'dark' ? 'light' : 'dark') + ' mode'">
      <span *ngIf="getCurrentTheme() !== 'dark'" aria-hidden="true">
        <!-- Sun icon for light mode -->
        <svg class="w-4 h-4" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="10" cy="10" r="4" fill="currentColor" />
          <path d="M10 1.5V3.5M10 16.5V18.5M3.5 10H1.5M18.5 10H16.5M4.81 4.81L3.4 3.4M16.6 16.6L15.19 15.19M4.81 15.19L3.4 16.6M16.6 3.4L15.19 4.81" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" />
        </svg>
      </span>
      <span *ngIf="getCurrentTheme() === 'dark'" aria-hidden="true">
        <!-- Moon icon for dark mode -->
        <svg class="w-4 h-4" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M15.5 12.5C14.7 12.8 13.86 13 13 13C9.68629 13 7 10.3137 7 7C7 6.14 7.2 5.3 7.5 4.5C5.5 5.2 4.1 7.1 4.1 9.3C4.1 12.6 6.8 15.3 10.1 15.3C12.3 15.3 14.2 13.9 14.9 11.9Z" fill="currentColor" />
        </svg>
      </span>
    </button>
  </div>

  <header class="dark:bg-gray-900 w-screen h-screen flex items-center tracking-[1px] relative">
    <div class="w-[90%] md:w-[80%] block md:flex gap-10 items-center mx-auto">
      <div class="flex flex-wrap w-[100%] md:w-[50%] mb-10 md:mb-0">
        <div class="overflow-clip rounded-b-3xl relative">
          <img [src]="profileImage" [alt]="name + ' - Software Engineer & Architect profile photo'" class="w-full" />
          <!-- Light mode gradient -->
          <div class="absolute inset-0 pointer-events-none dark:hidden" style="background: linear-gradient(to bottom, transparent 0%, transparent 40%, rgba(255, 255, 255, 0.2) 60%, rgba(255, 255, 255, 0.6) 80%, rgba(255, 255, 255, 1) 100%), linear-gradient(to right, rgba(255, 255, 255, 0.7) 0%, rgba(255, 255, 255, 0.2) 5%, transparent 15%, transparent 85%, rgba(255, 255, 255, 0.2) 95%, rgba(255, 255, 255, 0.7) 100%);"></div>
          <!-- Dark mode gradient -->
          <div class="absolute inset-0 pointer-events-none hidden dark:block" style="background: linear-gradient(to bottom, transparent 0%, transparent 40%, rgba(17, 24, 39, 0.2) 60%, rgba(17, 24, 39, 0.6) 80%, rgba(17, 24, 39, 1) 100%), linear-gradient(to right, rgba(17, 24, 39, 0.7) 0%, rgba(17, 24, 39, 0.2) 5%, transparent 15%, transparent 85%, rgba(17, 24, 39, 0.2) 95%, rgba(17, 24, 39, 0.7) 100%);"></div>
        </div>
      </div>

      <div class="flex">
        <div class="w-full">
          <div class="w-full text-2xl font-bold">
            Sajeer Babu
          </div>
          <div class="mt-4">
            Software Architect focused on how real systems scale, fail, and evolve, especially at early stages where technical decisions compound quickly.
          </div>
          <div class="mt-4">
            I think deeply about system design under real constraints and production failures, and the gap between architecture diagrams and reality.
I favor clarity over complexity.
          </div>
          <div class="w-full flex items-center gap-4 mt-4 text-black dark:text-white">
            <a class="cursor-pointer" *ngFor="let socialLink of socialLinks" target="_blank" [href]="socialLink.link" [title]="socialLink.name" [attr.aria-label]="'Visit ' + socialLink.name + ' profile'">
              <img [src]="(getCurrentTheme() !== 'dark') ? socialLink.icon.default : socialLink.icon.dark" [alt]="socialLink.name + ' icon'">
            </a>
          </div>
        </div>
      </div>
    </div>

  </header>

  <main class="dark:bg-gray-900 w-screen block md:flex-wrap items-start grid grid-cols-12 px-10 md:px-20 py-10" id="section_experience" aria-labelledby="experience-heading">
    <h1 id="experience-heading" class="sr-only">Professional Experience and Portfolio</h1>

    <div class="col-span-12 md:col-span-8">
      <!-- Experience Timeline -->
      <ol class="relative border-s border-gray-200">
        <!-- Professional Summary -->
        <li class="mb-10 ms-6">
          <span class="absolute flex items-center justify-center w-6 h-6 bg-blue-100 rounded-full -start-3 ring-8 ring-white" aria-label="Professional summary marker">
            <svg class="w-3 h-3 text-blue-800" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"></path>
            </svg>
          </span>
          <h3 class="flex items-center mb-1 text-lg font-semibold text-gray-400">Professional Summary</h3>
          <div class="space-y-1 text-base font-normal text-gray-500">
            <p><span class="font-semibold text-gray-700">Current Role:</span> Software Engineer at IBM (Runtimes)</p>
            <p><span class="font-semibold text-gray-700">Experience:</span> {{ yearsOfExperience }}+ years in software development &amp; architecture</p>
            <p><span class="font-semibold text-gray-700">Expertise:</span> System design, service-oriented backends, developer tooling, runtime platforms, AI-assisted systems</p>
            <p><span class="font-semibold text-gray-700">Focus:</span> Reliability, operability, and how small design decisions compound in production environments</p>
          </div>
        </li>
        <ng-container *ngFor="let experience of experiences; let i = index;">
          <li class="mb-10 ms-6">
          <span class="absolute flex items-center justify-center w-6 h-6 bg-blue-100 rounded-full -start-3 ring-8 ring-white " aria-label="Timeline marker">
              <svg class="w-2.5 h-2.5 text-blue-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" role="img">
                  <title>Calendar icon</title>
                  <path d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"/>
              </svg>
          </span>
            <h3 class="flex items-center mb-1 text-lg font-semibold text-gray-400">{{experience.years.from + ' - ' + experience.years.to}} <span class="bg-blue-100 text-blue-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded   ms-3" *ngIf="i === 0">Latest</span></h3>
            <!--        <time class="block mb-2 text-sm font-normal leading-none text-gray-400 ">Released on January 13th, 2022</time>-->
            <ng-container *ngFor="let info of experience.description">
              <p class="text-base font-normal text-gray-500 my-1" *ngIf="info.type === 'html'" [innerHTML]="info.content"></p>
            </ng-container>
          </li>
        </ng-container>
      </ol>
    </div>

  </main>
  
  <section class="bg-gray-100 dark:bg-gray-800 w-full py-10 px-10 md:px-20" id="section_observations" aria-labelledby="observations-heading">
    <h2 id="observations-heading" class="w-full font-bold mb-4 text-xl">Notes & Observations</h2>
    <p class="text-base text-gray-600 dark:text-gray-300 max-w-3xl">
      Much of my thinking comes from noticing where early-stage systems tend to drift, how assumptions break under real usage, how responsibilities blur as teams grow, and how small design decisions compound in production.
    </p>
  </section>

  <section class="dark:bg-gray-900 w-full py-10 px-10 md:px-20" id="section_talks" aria-labelledby="talks-heading">
    <h2 id="talks-heading" class="w-full font-bold mb-10 text-xl">Talks</h2>

    <div class="grid grid-cols-12 w-full" *ngFor="let year of talks">
      <!-- <h3 class="col-span-3 md:col-span-2 font-bold mb-10 text-lg text-gray-400">{{year.year}}</h3> -->
      <div class="col-span-9 md:col-span-8">
        <ol class="relative border-s border-gray-600">
          <li class="mb-10 ms-4" *ngFor="let talk of year.talks">
            <div class="absolute w-3 h-3 bg-gray-600 rounded-full mt-1.5 -start-1.5 border border-white"></div>
            <time class="mb-1 text-sm font-normal leading-none text-gray-600">{{talk.title}}</time>
            <div class="mb-1 text-sm font-normal leading-none text-gray-400 mt-3">{{talk.description}}</div>
          </li>
        </ol>
      </div>
    </div>
  </section>

  <footer class="bg-gray-100 dark:bg-gray-800 w-full px-10 md:px-20 py-10" id="section_footer">
    <div class="w-full">
      <div class="pt-6">
        <p class="text-sm text-gray-500 dark:text-gray-500">
          Â© 2025 Sajeer Babu. All views and opinions are my own.
        </p>
      </div>
    </div>
  </footer>
</div>
